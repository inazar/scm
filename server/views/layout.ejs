<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title><% if (typeof title !== "undefined") { %><%- title %><% } %></title>
    <script>
        var dojoConfig = {<% if (typeof root !== "undefined" && !root) { %>
            root: true,<% } %><% if (typeof email !== "undefined") { %>
            email: <%- JSON.stringify(email) %>,<% } %><% if (typeof code !== "undefined") { %>
            code: <%- JSON.stringify(code) %>,<% } %><% if (typeof flash !== "undefined") { %>
            flash: <%- JSON.stringify(flash) %>,<% } %>
            locale: <% if (typeof locale !== "undefined") { %><%- JSON.stringify(locale) %><% } else { %>'ru-ru'<% } %>,
            user:  <% if (typeof user !== "undefined") { %><%- JSON.stringify(user) %><% } else { %>null<% } %>
        };
    </script>
</head>
<body class="claro">
    <div id="appLayout"><% if (typeof body !== "undefined") { %><%- body %><% } %></div>
    <!-- dojo.js is an AMD-compliant loader script. It accepts configuration either from a data-dojo-config attribute,
         as shown here, from a global dojoConfig object (which must be defined *before* dojo.js is loaded), or from
         a global require object.

         Configuration options for the loader can be viewed at http://livedocs.dojotoolkit.org/loader/amd
         along with a bunch of additional information about its features.

         The remainder of Dojo configuration, as well as our applicationâ€™s instantiation, occurs within
         app/run.js. -->
    <script src="/lib/dojo/dojo.js" defer></script>

    <!-- Load the loader configuration script. Note that this module ID is hard-coded in build.sh in order to provide
         an optimised build that loads as few as one script for the entire application. If you change the name or
         location of this module, you will need to update build.sh too. -->
    <script src="/app/main.js" defer></script>
</body>
</html>